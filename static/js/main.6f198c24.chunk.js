(this["webpackJsonpspotify-stat-viewer"]=this["webpackJsonpspotify-stat-viewer"]||[]).push([[0],{36:function(t,e,n){},37:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),i=n(21),s=n.n(i),a=(n(36),n(4)),r=n(31),l=n(3),u=(n(37),n(2)),p="8388f4a4228342fa9111a25e71147bdd",d="https://accounts.spotify.com/authorize",h="https://malthemester.github.io/spotify-stat-viewer/",f=["playlist-read-private","user-read-private","user-top-read"].join("%20");var j=function(){return console.log("".concat(d,"?client_id=").concat(p,"&redirect_uri=").concat(h,"&scope=").concat(f,"&response_type=token&show_dialog=true")),Object(o.useEffect)((function(){if(window.location.hash){var t=window.location.hash.substring(1).split("&").reduce((function(t,e){var n=e.split("="),o=Object(a.a)(n,2),c=o[0],i=o[1];return t[c]=i,t}),{}),e=t.access_token,n=t.expires_in,o=t.token_type;localStorage.setItem("accessToken",e),localStorage.setItem("tokenType",o),localStorage.setItem("expiresIn",(new Date).getTime()+1e3*(n-300)),console.log(window.origin),window.location="https://malthemester.github.io/spotify-stat-viewer/"}})),Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("h1",{children:"You need to login to Spotify to view your stats"}),Object(u.jsx)("button",{className:"button-33",onClick:function(){return function(){var t="".concat(d,"?client_id=").concat(p,"&redirect_uri=").concat(h,"&scope=").concat(f,"&response_type=token&show_dialog=true");window.location=t}()},children:"Login to spotify"})]})};n.p,n(12),n(14),n(25),n(26);var b=function(){var t=Object(o.useState)(!1),e=Object(a.a)(t,2),n=e[0],c=e[1];return Object(o.useEffect)((function(){var t=new Date(Number(localStorage.getItem("expiresIn")));console.log(new Date<t),new Date<t&&c(!0)})),Object(u.jsx)(r.a,{children:Object(u.jsx)(l.c,{children:Object(u.jsx)(l.a,{path:"*",element:n?Object(u.jsx)("div",{children:"This"}):Object(u.jsx)(j,{})})})})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),o(t),c(t),i(t),s(t)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(b,{})}),document.getElementById("root")),g()}},[[40,1,2]]]);
//# sourceMappingURL=main.6f198c24.chunk.js.map